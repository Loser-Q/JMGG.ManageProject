@{
    ViewBag.Title = "基本信息";
    Layout = "~/Views/Shared/_Layout.cshtml";
}




@{
    ViewBag.Title = "基本信息";
}
<!DOCTYPE html>

<html>

<head>
    <meta name="viewport" content="width=device-width" />
    <title>基本信息</title>
</head>

<body>
    <div class="layui-fluid" style="margin-top: 30px;">
        <div class="layui-card">
            <div class="layui-form ">
                <div class="layui-form-item">
                    <div class="layui-inline">
                        <label class="layui-form-label" i18n="footer.user name">名称</label>
                        <div class="layui-input-block">
                            <input type="text" name="uName" placeholder="请输入" autocomplete="off" class="layui-input">
                        </div>
                    </div>
                </div>
                <div style="padding-bottom: 10px;">
                    <button class="layui-btn layuiadmin-btn-useradmin" lay-submit lay-filter="LAY-user-front-search">
                        <i class="layui-icon layui-icon-search layuiadmin-button-btn"></i>
                        <lable i18n="footer.search">搜索</lable>
                    </button>
                </div>
            </div>

            <div class="layui-card-body">
                <table id="LAY-BasicInfo" lay-filter="LAY-BasicInfo"></table>
                <script type="text/html" id="barDemo">
                    <a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="del">删除</a>
                    <a class="layui-btn layui-btn-xs" lay-event="edit">查看报表</a>
                    <a class="layui-btn layui-btn-xs" lay-event="edit">查看报表</a>
                    <a class="layui-btn layui-btn-xs" lay-event="edit">操作记录</a>
                </script>
            </div>
        </div>
    </div>
</body>

</html>
<script>
    layui.use(['form', 'jquery', 'table', 'layer'], function () {
        var $ = layui.jquery;
        var form = layui.form;
        var table = layui.table;
        var layer = layui.layer;


        table.set({
            parseData: function (res) {
                return {
                    code: res.status, //解析接口状态
                    msg: res.msg, //解析提示文本
                    count: res.data.total ? res.data.total.total : 0, //解析数据长度
                    data: res.data, //解析数据列表
                }
            },
        })
        //表格加载
        var cols = [[
            { field: 'BussinessID', title: '开关', }
            , { field: 'UserName', title: '广告计划ID', }
            , { field: 'CompanyName', title: '商家计划ID', }
            , { field: 'CreateTimeStr', title: '名称', }
            , { field: 'CreateTimeStr', title: '投放点位', }
            , { field: 'CreateTimeStr', title: '计费方式', }
            , { field: 'CreateTimeStr', title: '单价', }
            , { field: 'CreateTimeStr', title: '单日预算', }
            , { field: 'CreateTimeStr', title: 'CTR', }
            , { field: 'CreateTimeStr', title: 'ECPM(CPC)', }
            , { field: 'CreateTimeStr', title: '投放排期', }
            , { field: 'CreateTimeStr', title: '投放时段', }
            , { field: 'CreateTimeStr', title: '状态', }
            , { field: 'CreateTimeStr', title: '审核原因', }
            , { fixed: 'right', title: '操作', toolbar: '#barDemo', width: 300 }
        ]]
        var tableIns = table.render({
            elem: '#LAY-BasicInfo',
            url: '/BasicInfo/GetList', //数据接口
            cols: cols,
            method: 'post',
            done: function (res) { },
            parseData: function (res) {
                debugger;
                return {
                    code: res.code, //解析接口状态
                    msg: res.msg, //解析提示文本
                    count: res.count ? res.count : 0, //解析数据长度
                    data: res.data, //解析数据列表
                }
            },
            page: true,
            text: {
                none: '暂无相关数据',
            },
            defaultToolbar: [],
        })
        //搜索事件
        form.on('submit(LAY-user-front-search)', function (data) {
            var field = data.field
            //执行重载
            tableIns.reload({
                page: {
                    curr: 1,
                },
                where: field,
            })
        })

    });
</script>